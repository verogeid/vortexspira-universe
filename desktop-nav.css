/* --- desktop-nav.css --- */

/* ⭐️ 1. VISIBILIDAD DE VISTAS ⭐️ */
#vista-navegacion-desktop {
    display: flex !important; 
}
#vista-navegacion-mobile { 
    display: none !important; 
}

/* ⭐️ 2. LAYOUT DEL CARRUSEL (Swiper) ⭐️ */

/* CRÍTICO: Fija la altura total necesaria (usa la variable de base.css) */
#nav-swiper {
    height: var(--nav-desktop-height); 
    width: 100%; 
    overflow-y: hidden;
    overflow-x: hidden; 
    position: relative; 
    z-index: 1; 
}

/* El Swiper Wrapper debe comportarse como un contenedor horizontal que Swiper controla */
.swiper-wrapper {
  display: flex !important; 
  height: 100% !important; 
  gap: 0; 
  align-items: start;
}

/* El Slide ahora es el contenedor de una columna completa */
.swiper-slide {
  width: auto !important; 
  height: 100% !important; 
  margin: 0 !important;
  border: none !important; 
  background: transparent !important; 
  padding: 0 !important; 
}


/* ⭐️ 3. LA REGLA CLAVE: AGRUPACIÓN 3x1 EN COLUMNA ⭐️ */
.cards-column-group {
    display: flex;
    flex-direction: column; /* CLAVE: Apila las tarjetas verticalmente */
    justify-content: space-between; /* Distribuye el espacio entre ellas */
    height: 100%; /* Ocupa toda la altura fija del slide */
    gap: var(--card-gap); /* Usa el gap definido entre las tarjetas */
    padding: 0 15px; /* Padding interno */
    box-sizing: border-box;
    width: 100%;
}

/* ⭐️ 4. AJUSTES DE TARJETAS ⭐️ */
.cards-column-group .card {
    flex: 1 1 auto; /* Permite que la tarjeta crezca para llenar 1/3 de la columna */
    /* La altura se ajusta automáticamente, pero mantenemos el min-height como referencia visual */
    min-height: calc((var(--nav-desktop-height) - (2 * var(--card-gap))) / 3); 
}


/* --- 5. Estilos de Máscara (Se mantienen) --- */

.carousel-mask {
  position: absolute;
  width: 100%; 
  height: 100%; 
  top: 0;
  left: 0;
  z-index: 10; 
  pointer-events: none;
  overflow: hidden; 
}
.mask-left, 
.mask-right {
  position: absolute; 
  top: 0;
  width: 25%;
  height: 100%;
  -webkit-backdrop-filter: blur(2px);
  backdrop-filter: blur(2px); 
  background: linear-gradient(to right, 
    var(--color-mask-gradient) 0%, transparent 60%
  );
  z-index: 10;
}
.mask-left { left: 0; }
.mask-right {
  right: 0;
  background: linear-gradient(to left, 
    var(--color-mask-gradient) 0%, transparent 60%
  );
}

/* Lógica de Reducción de Movimiento */
@media (prefers-reduced-motion: reduce) {
  .mask-left,
  .mask-right {
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
  }
}
