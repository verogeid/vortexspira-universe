/* --- desktop-nav.css --- */

/* ⭐️ 1. VISIBILIDAD DE VISTAS ⭐️ */
#vista-navegacion-desktop {
    display: flex !important; 
}
#vista-navegacion-mobile { 
    display: none !important; 
}

/* ⭐️ 2. LAYOUT DEL CARRUSEL (Swiper) ⭐️ */

/* CRÍTICO: Fija la altura total necesaria (usa la variable de base.css) */
#nav-swiper {
    height: var(--nav-desktop-height); 
    width: 100%; 
    overflow-y: hidden;
    overflow-x: hidden; 
    position: relative; 
    z-index: 1; 
    
    /* ⭐️ Borde de DEPURACIÓN: Amarillo ⭐️ */
    border: 5px solid yellow !important; 
    box-sizing: border-box; 
    
    /* ⭐️ AJUSTE: Añadir padding superior para alinear contenido (wrapper) ⭐️ */
    padding-top: var(--nav-carousel-top-offset);
}

/* El Swiper Wrapper debe comportarse como un contenedor horizontal que Swiper controla */
.swiper-wrapper {
  display: flex !important; 
  /* ⭐️ AJUSTE: La altura ahora es 100% del espacio restante DENTRO del padding del padre ⭐️ */
  height: 100% !important; 
  gap: 0; 
  align-items: start;
  
  /* ⭐️ Borde de DEPURACIÓN: Rojo ⭐️ */
  border: 3px solid red !important;
}

/* El Slide ahora es el contenedor de una columna completa */
.swiper-slide {
  /* FIX CRÍTICO: Forzar el ancho del slide a 1/3 para ver 3 columnas */
  width: calc(100% / 3) !important; 
  
  height: 100% !important; 
  margin: 0 !important;
  border: none !important; 
  background: transparent !important; 
  padding: 0 !important; 
  
  /* ⭐️ Borde de DEPURACIÓN: Azul ⭐️ */
  border: 2px solid blue !important;
}


/* ⭐️ 3. LA REGLA CLAVE: AGRUPACIÓN 3x1 EN COLUMNA ⭐️ */
.cards-column-group {
    display: flex;
    flex-direction: column; 
    /* ⭐️ CORRECCIÓN: Apilar al inicio, no estirar ⭐️ */
    justify-content: flex-start; 
    height: 100%; 
    gap: var(--card-gap); /* ⭐️ Este es el 'margin-bottom' que preguntabas ⭐️ */
    padding: 0 15px; 
    box-sizing: border-box;
    width: 100%;
}

/* ⭐️ 4. AJUSTES DE TARJETAS ⭐️ */
.cards-column-group .card {
    /* ⭐️ CORRECCIÓN: No crecer, usar altura fija ⭐️ */
    flex: none; 
    height: var(--card-height-single);
    min-height: var(--card-height-single); /* Asegurar la altura fija */
    
    /* ⭐️ Borde de DEPURACIÓN: Verde ⭐️ */
    border: 2px solid limegreen !important;
}


/* --- 5. Estilos de Máscara (Se mantienen) --- */

.carousel-mask {
  position: absolute;
  width: 100%; 
  height: 100%; 
  top: 0;
  left: 0;
  z-index: 10; 
  pointer-events: none;
  overflow: hidden; 
}
.mask-left, 
.mask-right {
  position: absolute; 
  top: 0;
  width: 25%;
  height: 100%;
  -webkit-backdrop-filter: blur(2px);
  backdrop-filter: blur(2px); 
  background: linear-gradient(to right, 
    var(--color-mask-gradient) 0%, transparent 60%
  );
  z-index: 10;
}
.mask-left { left: 0; }
.mask-right {
  right: 0;
  background: linear-gradient(to left, 
    var(--color-mask-gradient) 0%, transparent 60%
  );
}

/* Lógica de Reducción de Movimiento */
@media (prefers-reduced-motion: reduce) {
  .mask-left,
  .mask-right {
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
  }
}
