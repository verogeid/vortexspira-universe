/* --- desktop-nav.css --- */

/* ⭐️ 1. VISIBILIDAD DE VISTAS ⭐️ */
#vista-navegacion-desktop {
    display: flex !important; 
}
#vista-navegacion-mobile { 
    display: none !important; 
}

/* ⭐️ 2. LAYOUT DEL CARRUSEL (Swiper) ⭐️ */

/* Fija la altura total necesaria (usa la variable de base.css) */
#nav-swiper {
    height: 100%; 
    width: 100%; 
    overflow-y: hidden;
    overflow-x: hidden; 
    position: relative; 
    z-index: 1; 
    
    /* DEPURACIÓN: Color del borde amarillo (contenedor de la vista central) */
    border: 5px solid yellow; 
    box-sizing: border-box; 
}

/* El Swiper Wrapper debe comportarse como un contenedor horizontal que Swiper controla */
.swiper-wrapper {
  display: flex !important; 
  height: 100% !important; 
  gap: 0; 
  align-items: start;
  
  /* DEPURACIÓN: Color del borde rojo (contenedor del track de slides) */
  border: 3px solid red;
}

/* El Slide ahora es el contenedor de una columna completa */
.swiper-slide {
  /* CRÍTICO: Forzar el ancho del slide a 1/3 para ver 3 columnas */
  width: calc(100% / 3) !important; 
  
  height: 100% !important; 
  margin: 0 !important;
  border: none !important; 
  background: transparent !important; 
  padding: 0 !important; 
  
  /* DEPURACIÓN: Color del borde azul (cada columna deslizante) */
  border: 2px solid blue;
}


/* ⭐️ 3. LA REGLA CLAVE: AGRUPACIÓN 3x1 EN COLUMNA ⭐️ */
.cards-column-group {
    display: flex;
    flex-direction: column; 
    justify-content: flex-start; 
    
    /* La altura de la columna debe ser 100% menos el padding superior. */
    height: calc(100% - var(--nav-carousel-top-offset)); 
    gap: var(--card-gap); 
    
    /* ⭐️ FIX: Padding BOTTOM incrementado para evitar colapso/desborde en hover ⭐️ */
    padding: var(--nav-carousel-top-offset) 15px 40px 15px; 
    
    box-sizing: border-box;
    width: 100%;
}

/* ⭐️ 4. AJUSTES DE TARJETAS ⭐️ */
.cards-column-group .card {
    /* Usamos el calc dinámico de style-base (Altura = (100% - 2*gaps) / 3) */
    flex: none; 
    height: var(--card-height-calc); 
    min-height: var(--card-height-calc); 
    
    margin-bottom: 0; 
    
    /* DEPURACIÓN: Color del borde verde (cada tarjeta) */
    border: 2px solid limegreen !important;
}


/* --- 5. Estilos de Máscara (Se mantienen) --- */

.carousel-mask {
  position: absolute;
  width: 100%; 
  height: 100%; 
  top: 0;
  left: 0;
  z-index: 10; 
  pointer-events: none;
  overflow: hidden; 
}
.mask-left, 
.mask-right {
  position: absolute; 
  top: 0;
  width: 25%;
  height: 100%;
  -webkit-backdrop-filter: blur(2px);
  backdrop-filter: blur(2px); 
  background: linear-gradient(to right, 
    var(--color-mask-gradient) 0%, transparent 60%
  );
  z-index: 10;
}
.mask-left { left: 0; }
.mask-right {
  right: 0;
  background: linear-gradient(to left, 
    var(--color-mask-gradient) 0%, transparent 60%
  );
}

/* Lógica de Reducción de Movimiento */
@media (prefers-reduced-motion: reduce) {
  .mask-left,
  .mask-right {
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
  }
}