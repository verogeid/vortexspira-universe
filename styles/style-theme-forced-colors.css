/* --- styles/style-theme-forced-colors.css --- */

/* =========================================================
   1. MODO SISTEMA OPERATIVO (Automático)
   ========================================================= */
@media (forced-colors: active) {
    
    /* === 1. TARJETAS (Cards) y BOTÓN VOLVER FIJO === */
    .card,
    #card-volver-fija-elemento {
        border: 2px dashed LinkText !important;
    }

    /* Foco en tarjeta habilitada -> Borde AZUL (Highlight) */
    .card:not(.disabled):not([data-tipo="relleno"]).focus-visible,
    .card:not(.disabled):not([data-tipo="relleno"]):focus-visible,
    .card:not(.disabled):not([data-tipo="relleno"]).focus-current,
    #card-volver-fija-elemento:focus-visible,
    #card-volver-fija-elemento.focus-visible,
    #card-volver-fija-elemento.focus-current {
        border: 4px solid Highlight !important; /* AZUL */
        outline: none !important;
    }

    /* Tarjeta Deshabilitada -> Borde GRIS (GrayText) */
    .card.disabled {
        border: 2px dashed LinkText !important;
        opacity: 1 !important; /* Opacidad 1 para ver bien el color */
        color: GrayText !important;
    }
    
    /* Foco en deshabilitada -> Borde BLANCO/TEXTO (CanvasText) */
    .card.disabled:focus-visible,
    .card.disabled.focus-visible {
        border: 4px solid GrayText !important; /* BLANCO */
    }

    /* Tarjetas de Relleno/Breadcrumb -> Borde DISCONTINUO */
    .card[data-tipo="relleno"],
    .card.card-breadcrumb-vertical {
        border: 2px dashed CanvasText !important;
        opacity: 0.6;
    }

    /* === 2. ICONOS (MÁSCARAS) === */
    .icon-vacio-card, 
    .card-icon-lead, 
    .icon-obras-card,
    .icon-obras-header,
    .action-icon {
        forced-color-adjust: none;
        background-color: CanvasText !important; /* Tinta Normal */
    }

    /* Iconos Deshabilitados -> Tinta GRIS */
    .card.disabled .icon-vacio-card,
    .card.disabled .card-icon-lead,
    .detail-action-btn.disabled .action-icon {
        background-color: GrayText !important;
    }
    
    /* === 3. BOTÓN A11Y === */
    #btn-config-accesibilidad {
        forced-color-adjust: none;
        border: 2px solid ButtonText !important;
        background-color: LinkText !important; /* Tinta Normal */
    }
    #btn-config-accesibilidad:focus-visible {
        border-color: Highlight !important;
        background-color: Highlight !important; /* Tinta AZUL al foco */
    }

    /* === 4. ENLACES (Info, Footer) === */
    #info-adicional summary, 
    #info-adicional a,
    footer a {
        color: LinkText !important;
        text-decoration: underline;
    }

    #info-adicional summary:focus, 
    #info-adicional a:focus,
    #info-adicional a:focus-visible,
    footer a:focus,
    footer a:focus-visible {
        color: Highlight !important; 
        outline: 2px dotted Highlight !important;
        background-color: transparent !important;
        text-decoration: none;
    }

    .footer-social-link::before {
        forced-color-adjust: none;
        background-color: LinkText !important; 
    }
    .footer-social-link:focus-visible::before,
    .footer-social-link:hover::before {
        background-color: Highlight !important; 
    }

    /* === 5. VISTA DETALLE === */
    .detail-text-fragment {
        border-left: none !important;
    }

    .detail-text-fragment:focus-visible,
    .detail-text-fragment.focus-current {
        border-left: 6px solid Highlight !important; 
        background-color: transparent !important;
    }

    .detail-action-btn {
        border: 2px solid LinkText !important;
    }
    .detail-action-btn:focus-visible {
        border: 4px solid Highlight !important;
    }
    .detail-action-btn:focus-visible .action-icon {
        background-color: Highlight !important;
    }

    #a11y-reset { 
        background-color: ButtonText; 
        border: 2px solid ButtonText; 
    }
    #a11y-reset:hover { 
        background-color: Highlight; 
        border-color: Highlight; 
    }
}


/* =========================================================
   2. MODO MANUAL (Seleccionado en Modal A11y)
   ========================================================= */

/* Forzar base de colores del sistema si el usuario lo activa a mano */
body[data-theme="forced"] {
    background-color: Canvas !important;
    color: CanvasText !important;
    color-scheme: light dark;
}

/* === 1. TARJETAS (Cards) y BOTÓN VOLVER FIJO === */
body[data-theme="forced"] .card,
body[data-theme="forced"] #card-volver-fija-elemento {
    border: 2px dashed LinkText !important;
}

body[data-theme="forced"] .card:not(.disabled):not([data-tipo="relleno"]).focus-visible,
body[data-theme="forced"] .card:not(.disabled):not([data-tipo="relleno"]):focus-visible,
body[data-theme="forced"] .card:not(.disabled):not([data-tipo="relleno"]).focus-current,
body[data-theme="forced"] #card-volver-fija-elemento:focus-visible,
body[data-theme="forced"] #card-volver-fija-elemento.focus-visible,
body[data-theme="forced"] #card-volver-fija-elemento.focus-current {
    border: 4px solid Highlight !important; 
    outline: none !important;
}

body[data-theme="forced"] .card.disabled {
    border: 2px dashed LinkText !important;
    opacity: 1 !important; 
    color: GrayText !important;
}

body[data-theme="forced"] .card.disabled:focus-visible,
body[data-theme="forced"] .card.disabled.focus-visible {
    border: 4px solid GrayText !important; 
}

body[data-theme="forced"] .card[data-tipo="relleno"],
body[data-theme="forced"] .card.card-breadcrumb-vertical {
    border: 2px dashed CanvasText !important;
    opacity: 0.6;
}

/* === 2. ICONOS (MÁSCARAS) === */
body[data-theme="forced"] .icon-vacio-card, 
body[data-theme="forced"] .card-icon-lead, 
body[data-theme="forced"] .icon-obras-card,
body[data-theme="forced"] .icon-obras-header,
body[data-theme="forced"] .action-icon {
    forced-color-adjust: none;
    background-color: CanvasText !important; 
}

body[data-theme="forced"] .card.disabled .icon-vacio-card,
body[data-theme="forced"] .card.disabled .card-icon-lead,
body[data-theme="forced"] .detail-action-btn.disabled .action-icon {
    background-color: GrayText !important;
}

/* === 3. BOTÓN A11Y === */
body[data-theme="forced"] #btn-config-accesibilidad {
    forced-color-adjust: none;
    border: 2px solid ButtonText !important;
    background-color: LinkText !important; 
}
body[data-theme="forced"] #btn-config-accesibilidad:focus-visible {
    border-color: Highlight !important;
    background-color: Highlight !important; 
}

/* === 4. ENLACES (Info, Footer) === */
body[data-theme="forced"] #info-adicional summary, 
body[data-theme="forced"] #info-adicional a,
body[data-theme="forced"] footer a {
    color: LinkText !important;
    text-decoration: underline;
}

body[data-theme="forced"] #info-adicional summary:focus, 
body[data-theme="forced"] #info-adicional a:focus,
body[data-theme="forced"] #info-adicional a:focus-visible,
body[data-theme="forced"] footer a:focus,
body[data-theme="forced"] footer a:focus-visible {
    color: Highlight !important; 
    outline: 2px dotted Highlight !important;
    background-color: transparent !important;
    text-decoration: none;
}

body[data-theme="forced"] .footer-social-link::before {
    forced-color-adjust: none;
    background-color: LinkText !important; 
}
body[data-theme="forced"] .footer-social-link:focus-visible::before,
body[data-theme="forced"] .footer-social-link:hover::before {
    background-color: Highlight !important; 
}

/* === 5. VISTA DETALLE === */
body[data-theme="forced"] .detail-text-fragment {
    border-left: none !important;
}

body[data-theme="forced"] .detail-text-fragment:focus-visible,
body[data-theme="forced"] .detail-text-fragment.focus-current {
    border-left: 6px solid Highlight !important; 
    background-color: transparent !important;
}

body[data-theme="forced"] .detail-action-btn {
    border: 2px solid LinkText !important;
}
body[data-theme="forced"] .detail-action-btn:focus-visible {
    border: 4px solid Highlight !important;
}
body[data-theme="forced"] .detail-action-btn:focus-visible .action-icon {
    background-color: Highlight !important;
}

body[data-theme="forced"] #a11y-reset { 
    background-color: ButtonText; 
    border: 2px solid ButtonText; 
}
body[data-theme="forced"] #a11y-reset:hover { 
    background-color: Highlight; 
    border-color: Highlight; 
}

/* --- styles/style-theme-forced-colors.css --- */