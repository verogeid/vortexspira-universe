/* --- styles/style-layout.css --- */

body {
    background: var(--color-bg);
    color: var(--color-text);
    font-family: var(--font-family-base);
    overflow: hidden; 
    margin: 0;
    box-sizing: border-box;
    min-height: 100vh;
    padding-top: var(--header-height);
    padding-bottom: var(--footer-height); 
    
    /* ⭐️ A11Y: Aseguramos base 100% para respetar ajustes de navegador */
    font-size: 100%; 
    line-height: var(--line-height-base);

    /* ⭐️ FIX CLS/FLASH: El cuerpo inicia invisible para evitar parpadeos de Swiper */
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
}

/* Clase que se añade vía JS cuando todo está listo */
body.app-loaded {
    opacity: 1;
}

#vista-central {
    grid-column: 2 / 3; 
    width: 100%; height: 100%; position: relative; 
    overflow-x: hidden; 
    overflow-y: hidden; 
    display: flex; 
}

.vista {
    position: absolute; width: 100%; height: 100%; top: 0; left: 0;
    display: none;             
    z-index: 1;                
    pointer-events: none;      
    transition: opacity 0.3s ease; 
    opacity: 0;
}
.vista.active { 
    display: flex; flex-direction: column;
    z-index: 10;                 
    pointer-events: auto;        
    opacity: 1;
} 

#vista-volver {
    grid-column: 1 / 2; 
    position: relative; z-index: 50; 
    display: none; flex-direction: column;
    height: 100%; gap: var(--card-gap); 
    padding: var(--nav-carousel-top-offset) 15px 15px 15px; 
    box-sizing: border-box;
}
#vista-volver.visible { display: flex; }

    body[data-layout="tablet-portrait"] #app-container {
        display: grid;
        grid-template-columns: 1fr 3fr; 
    }
    body[data-layout="tablet-landscape"] #app-container,
    body[data-layout="desktop"] #app-container {
        display: grid;
        grid-template-columns: 1fr 3fr 1fr;
    }

    body[data-layout="tablet-landscape"] #info-adicional,
    body[data-layout="desktop"] #info-adicional {
        grid-column: 3 / 4; 
        width: 100%; 
        border-radius: 12px; border: 2px dashed var(--color-border-placeholder); 
        background: var(--color-card-bg); display: none; 
        box-sizing: border-box; 
        padding: var(--nav-carousel-top-offset) 15px 15px 15px; 
        height: 100%; overflow-y: auto; 
    }
    body[data-layout="mobile"] #info-adicional,
    body[data-layout="tablet-portrait"] #info-adicional {
        display: none !important; 
    }
    
    body[data-layout="mobile"] #info-adicional.visible,
    body[data-layout="tablet-portrait"] #info-adicional.visible { 
        display: none !important; 
    }
    body[data-layout="tablet-landscape"] #info-adicional.visible,
    body[data-layout="desktop"] #info-adicional.visible { 
        display: block !important; 
    }
    
.resize-animation-stopper * {
    animation: none !important;
    transition: none !important;
}

/* --- styles/style-layout.css --- */