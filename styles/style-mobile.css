/* --- styles/style-mobile.css --- */

/* @media (max-width: 600px) */
body[data-layout="mobile"] {
    /* ‚≠êÔ∏è MAPEO DE VARIABLES: Usamos los valores mobile definidos en theme */
    --header-title-size: var(--mobile-header-title-size);
    --header-logo-size: var(--mobile-header-logo-size);
    --header-icon-size: var(--mobile-header-icon-size);
    --header-obras-size: var(--mobile-header-obras-size);

    --card-padding: var(--mobile-card-padding);

    overflow: hidden !important; 
    height: 100dvh; 
    position: fixed; 
    width: 100%;
    padding-bottom: var(--footer-height); 

    padding-right: var(--card-padding); /* Espacio extra en mobile, para scroll fantasma */
}

body[data-layout="mobile"] #app-container {
    height: auto !important;
    min-height: calc(100dvh - var(--header-height-real, 50px) - var(--footer-height-real, --footer-height));

    margin-top: 0 !important;

    padding-top: 0 !important; 
    padding-bottom: 15px !important;
    padding-left: 0px;

    display: flex; flex-direction: column;
    gap: var(--card-gap); overflow: visible;
}

body[data-layout="mobile"] #vista-volver, 
body[data-layout="mobile"] #card-volver-fija,
body[data-layout="mobile"] #info-adicional {
    display: none !important; 
}

body[data-layout="mobile"] #vista-central {
    width: 100%; position: relative; 
    height: auto !important; overflow: visible !important;
    display: block; 
    flex-grow: 1; 
}

body[data-layout="mobile"] .vista:not(.active) {
    display: none !important;
}

body[data-layout="mobile"] .vista {
    position: relative; height: auto !important; overflow: visible !important;
}

body[data-layout="mobile"] #vista-detalle-mobile {
    position: fixed !important; 
    top: var(--header-height-real, var(--header-height)) !important; 

    left: 0 !important;
    width: 100% !important; 

    /* Ajuste de altura restando el header real */
    height: calc(100vh - var(--header-height-real, var(--header-height)) - var(--footer-height)) !important;

    z-index: 99 !important;

    overflow-y: hidden !important;
    display: flex; flex-direction: column; 

    /* ‚≠êÔ∏è Delegamos el espaciado al wrapper/slide para igualar la navegaci√≥n ‚≠êÔ∏è */
    padding: 0;
    box-sizing: border-box;
}

body[data-layout="mobile"] #vista-detalle-mobile:not(.active) {
    display: none !important; 
}

/* Aplicamos las reglas a AMBOS carruseles (Nav y Detalle) */
body[data-layout="mobile"] #nav-swiper-mobile, 
body[data-layout="mobile"] #detalle-swiper-mobile {
    height: calc(100vh - var(--header-height-real, 50px) - var(--footer-height-real, 6vh)) !important;
    width: 100%; position: relative;

    overflow: hidden; 
    touch-action: pan-y pinch-zoom !important;
}

/* ALINEACI√ìN VERTICAL: Ambos wrappers tienen 15px de padding superior */
body[data-layout="mobile"] #nav-swiper-mobile .swiper-wrapper, 
body[data-layout="mobile"] #detalle-swiper-mobile .swiper-wrapper {
    display: flex !important; flex-direction: column; 
    gap: 10px; 

    width: 100%; height: auto !important; 

    padding-bottom: 15dvh; 
    padding-top: var(--card-padding) !important; 
}

/* ALINEACI√ìN HORIZONTAL: Ambos slides tienen 6% de padding lateral */
body[data-layout="mobile"] #nav-swiper-mobile .swiper-slide, 
body[data-layout="mobile"] #detalle-swiper-mobile .swiper-slide {
    width: 100% !important; height: auto !important; 

    display: flex; 
    flex-direction: column;
    align-items: center;
    box-sizing: border-box; 

    padding: 0 6% !important; 
}

body[data-layout="mobile"] #nav-swiper-mobile .swiper-slide .card, 
body[data-layout="mobile"] #detalle-swiper-mobile .swiper-slide .card {
    width: 100%;
    box-sizing: border-box; 
}

body[data-layout="mobile"] .card-relleno-final {
    min-height: var(--mobile-card-min-height);
    
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

/* 1. CAMBIO A FLEXBOX: Para crear 2 columnas (Icono | Texto) */
body[data-layout="mobile"] .card h3 {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important; /* üéØ CENTRADO VERTICAL */
    gap: 12px; /* Espacio limpio entre columnas */
    
    max-height: none !important; /* Quitamos l√≠mite de altura de desktop */
    overflow: visible !important;
}

/* 2. RESET DEL ICONO: Deja de flotar y se comporta como columna 1 */
body[data-layout="mobile"] .card h3 .card-icon-lead,
body[data-layout="mobile"] .card h3 .icon-vacio-card,
body[data-layout="mobile"] .card h3 .icon-obras-card {
    float: none !important;
    margin-top: 0 !important;   /* Sin ajuste √≥ptico, centrado matem√°tico */
    margin-right: 0 !important; /* El gap del padre controla el espacio */

    /* En m√≥vil podemos hacerlo un pel√≠n m√°s grande si quieres, o dejarlo heredar */
    font-size: var(--card-h3-icon) !important; 
    width: var(--card-h3-icon) !important;
    height: var(--card-h3-icon) !important;
}

/* 3. TEXTO: Bloque con Ellipsis real */
body[data-layout="mobile"] .card h3 .card-text-content {
    display: -webkit-box !important;
    -webkit-box-orient: vertical;

    /* L√≠mite de l√≠neas m√≥vil */
    -webkit-line-clamp: var(--card-h3-line-clamp); line-clamp: var(--card-h3-line-clamp);
    
    
    overflow: hidden;
    text-overflow: ellipsis;
    
    /* üü¢ FIX: Comportamiento de palabras naturales */
    word-break: normal !important;      /* Respeta las palabras completas */
    overflow-wrap: normal !important;   /* Evita partir palabras a la fuerza */
    -webkit-hyphens: none !important; hyphens: none !important; /* Evita guiones autom√°ticos feos */
}

/* üõ°Ô∏è GLOBAL MOBILE FIX: Mata el scroll horizontal fantasma */
body[data-layout="mobile"],
html {
    overflow-x: hidden !important;
    max-width: 100vw !important;
}

/* Asegura que ninguna imagen o contenedor rompa el ancho */
body[data-layout="mobile"] * {
    max-width: 100%;
}
/* --- styles/style-mobile.css --- */