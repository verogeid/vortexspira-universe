/* --- styles/style-mobile.css --- */

@media (max-width: 600px) {

    /* 1. Scroll nativo y Header/Footer fijo */
    body {
        /* AJUSTE: Ocultamos el scroll del body para que no compita con el Swiper */
        overflow: hidden !important; 
        height: 100vh; 
        position: fixed; 
        width: 100%;
        /* El padding se gestiona internamente en los contenedores de scroll */
        padding-bottom: 0; 
    }

    header { 
        position: fixed; 
        z-index: 100;
    }

    #main-header-subtitle {
        display: none !important; 
    }

    /* 2. Layout fluido y contenedor principal */
    #app-container {
        /* ⭐️ AJUSTE: Altura calculada para encajar entre Header y Footer ⭐️ */
        height: calc(100vh - var(--header-height) - var(--footer-height)) !important;
        min-height: calc(100vh - var(--header-height) - var(--footer-height)) !important;
        margin-top: var(--header-height);
        padding: 10px 0 0 0 !important;
        display: flex; 
        flex-direction: column;
        overflow: hidden; /* El scroll lo gestiona el Swiper interno */
    }

    /* 3. Vista central */
    #vista-central {
        width: 100%; 
        position: relative; 
        height: 100% !important; 
        overflow: hidden !important;
        display: block; 
        flex-grow: 1; 
    }

    /* Ocultar vistas inactivas */
    .vista:not(.active) {
        display: none !important;
    }

    .vista {
        position: relative; 
        height: 100% !important; 
        overflow: hidden !important;
    }

    /* 4. Ocultar sidebars innecesarios */
    #card-volver-fija, #info-adicional {
        display: none !important;
    }

    /* 5. Vista de detalle full-screen */
    #vista-detalle-mobile {
        position: fixed !important; 
        /* Inicia justo debajo del header */
        top: var(--header-height) !important; 
        left: 0 !important; 
        width: 100% !important; 

        /* ⭐️ AJUSTE: Altura exacta para terminar antes del footer ⭐️ */
        height: calc(100vh - var(--header-height) - var(--footer-height)) !important;

        z-index: 99 !important; 
        overflow: hidden !important;
        display: flex; 
        flex-direction: column; 
        background: var(--color-bg);
    }

    #vista-detalle-mobile:not(.active) {
        display: none !important; 
    }

    /* Contenedor interno de Swiper (Detalle) */
    #detalle-contenido-mobile {
        width: 100%; 
        height: 100%; 
        overflow: hidden;
    }

    #detalle-swiper-mobile {
        height: 100% !important;
        overflow: hidden !important;
        /* touch-action: none para asegurar 1 solo dedo */
        touch-action: none !important;
    }

    #detalle-swiper-mobile .swiper-wrapper {
        /* ⭐️ AJUSTE: Padding inferior generoso para que el final no quede bajo el footer ⭐️ */
        padding-bottom: 100px !important; 
        padding-top: 15px; 
    }

    #detalle-swiper-mobile .swiper-slide {
        padding: 0 6% !important; 
        box-sizing: border-box; 
    }

    /* --------------------------------------------------------------------- */
    /* ⭐️ SWIPER VERTICAL MÓVIL (NAVEGACIÓN) ⭐️ */
    /* --------------------------------------------------------------------- */

    #nav-swiper-mobile {
        height: 100% !important; 
        width: 100%; 
        position: relative;
        overflow: hidden; 

        /* ⭐️ AJUSTE QUIRÚRGICO: Bloqueamos gestos nativos para 1 solo dedo ⭐️ */
        touch-action: none !important;
    }

    #nav-swiper-mobile .swiper-wrapper {
        display: flex !important; 
        flex-direction: column; 
        gap: 10px; 
        width: 100%; 
        height: auto !important; 
        /* ⭐️ AJUSTE: Padding inferior para que la última tarjeta respire sobre el footer ⭐️ */
        padding-bottom: 80px !important; 
        padding-top: 15px !important; 
    }

    #nav-swiper-mobile .swiper-slide {
        width: 100% !important; 
        height: auto !important; 
        display: flex; 
        flex-direction: column;
        align-items: center;
        box-sizing: border-box; 
        padding: 0 6% !important; 
    }

    #nav-swiper-mobile .swiper-slide .card {
        width: 100%;
        box-sizing: border-box; 
    }

    /* 6. Footer fijo */
    footer {
        position: fixed !important; 
        bottom: 0; 
        left: 0;
        background: var(--color-bg); 
        width: 100%;
        z-index: 101;
        height: var(--footer-height);
        padding: 10px 5px;
        box-sizing: border-box;
    }

    ::-webkit-scrollbar { width: 4px; }
}

/* --- styles/style-mobile.css --- */
