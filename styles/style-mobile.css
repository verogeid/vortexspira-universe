/* --- styles/style-mobile.css --- */

@media (max-width: 600px) {
    
    body {
        overflow-y: auto !important; 
        height: auto; min-height: 100vh; padding-bottom: 0;
    }

    /* Header fijo arriba de todo */
    header {
        position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
    }

    #app-container {
        height: auto !important;
        min-height: calc(100vh - var(--header-height)); 
        /* Compensar Header Fijo */
        padding-top: calc(var(--header-height) + 10px) !important;
        display: flex; flex-direction: column;
        padding-left: 10px; padding-right: 10px; padding-bottom: 10px;
        gap: 15px; overflow: visible;
    }

    /* Ocultar elementos Desktop/Tablet */
    .mobile-detail-breadcrumb, .mobile-back-header { display: block; } /* Asegurar visibilidad */
    
    /* Ocultar sidebars */
    #card-volver-fija, #info-adicional { display: none !important; }

    /* STICKY ELEMENTS EN DETALLE */
    .mobile-detail-breadcrumb .card-breadcrumb-vertical {
        position: sticky;
        top: calc(var(--header-height) + 10px);
        z-index: 60;
        background: var(--color-bg);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        border-style: solid !important;
        margin-bottom: 5px;
    }

    .mobile-back-header {
        position: sticky;
        /* Justo debajo del breadcrumb (aprox) */
        top: calc(var(--header-height) + 10px + 65px); 
        z-index: 50;
        margin-bottom: 20px !important; 
        text-align: left; width: 100%;
    }

    /* Si no hay breadcrumb (ej. detalle sin nav), el volver sube */
    /* (Esto requiere l√≥gica JS o CSS :empty, pero por ahora stackean bien) */

    #vista-central {
        width: 100%; position: relative; 
        height: auto !important; overflow: visible !important;
        display: block; 
    }
    
    .vista:not(.active) { display: none !important; }
    .vista { position: relative; height: auto !important; overflow: visible !important; }

    #vista-detalle { padding-top: 0 !important; margin-top: 0 !important; }
    #vista-detalle .contenido-curso {
        overflow-y: visible !important; height: auto !important; max-height: none !important;
        padding: 0 5px 20px 5px;
    }

    footer {
        position: relative !important; bottom: auto;
        margin-top: 40px; padding: 20px 5px; background: var(--color-bg); width: 100%;
    }
    
    ::-webkit-scrollbar { width: 4px; }
}

/* STICKY EN MENU (TRACK) */
.mobile-track {
    display: flex; flex-direction: column; gap: 15px; 
    width: 100%; height: auto; padding: 5px; box-sizing: border-box;
    margin-top: 0 !important; justify-content: flex-start;
    
    scroll-snap-type: y mandatory; 
    padding-bottom: 15vh; 
}

.mobile-track .card {
    width: 100%; min-height: 100px; height: auto; font-size: 1.1rem;
    scroll-snap-align: start; scroll-margin-top: 140px;
}

.mobile-track .card-breadcrumb-vertical {
    position: sticky;
    top: calc(var(--header-height) + 10px); 
    z-index: 50; 
    background-color: var(--color-bg); 
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    border-style: solid !important;
    margin-bottom: 20px; 
}

.mobile-track .card-volver-vertical {
    min-height: 60px; background: var(--color-card-bg);
    border-style: solid; text-align: center; margin-bottom: 10px;
}