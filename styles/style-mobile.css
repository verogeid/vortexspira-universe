/* --- styles/style-mobile.css --- */

/* @media (max-width: 600px) */
body[data-layout="mobile"] {
    /* 救넖잺 MAPEO DE VARIABLES: Usamos los valores mobile definidos en theme */
    --header-title-size: var(--mobile-header-title-size);
    --header-logo-size: var(--mobile-header-logo-size);
    --header-icon-size: var(--mobile-header-icon-size);
    --header-obras-size: var(--mobile-header-obras-size);

    overflow: hidden !important; 
    height: 100dvh; 
    position: fixed; 
    width: 100%;
    padding-bottom: var(--footer-height); 
}

body[data-layout="mobile"] #app-container {
    height: auto !important;
    min-height: calc(100dvh - var(--header-height-real, 50px) - var(--footer-height-real, --footer-height));

    margin-top: 0 !important;
    /*margin-bottom: var(--footer-height-real, --footer-height) !important;*/

    padding-top: 15px !important; padding-bottom: 15px !important;
    padding-left: 0px; padding-right: 0px; 

    display: flex; flex-direction: column;
    gap: var(--card-gap); overflow: visible;
}

body[data-layout="mobile"] #vista-volver, 
body[data-layout="mobile"] #card-volver-fija,
body[data-layout="mobile"] #info-adicional {
    display: none !important; 
}

body[data-layout="mobile"] #vista-central {
    width: 100%; position: relative; 
    height: auto !important; overflow: visible !important;
    display: block; 
    flex-grow: 1; 
}

body[data-layout="mobile"] .vista:not(.active) {
    display: none !important;
}

body[data-layout="mobile"] .vista {
    position: relative; height: auto !important; overflow: visible !important;
}

body[data-layout="mobile"] #vista-detalle-mobile {
    position: fixed !important; 
    top: var(--header-height) !important; 
    left: 0 !important;
    width: 100% !important; 
    height: calc(100vh - var(--header-height) - var(--footer-height)) !important;
    z-index: 99 !important;

    overflow-y: hidden !important;
    display: flex; flex-direction: column; 

    /* 救넖잺 Delegamos el espaciado al wrapper/slide para igualar la navegaci칩n 救넖잺 */
    padding: 0;
    box-sizing: border-box;
}

body[data-layout="mobile"] #vista-detalle-mobile:not(.active) {
    display: none !important; 
}

/* Aplicamos las reglas a AMBOS carruseles (Nav y Detalle) */
body[data-layout="mobile"] #nav-swiper-mobile, 
body[data-layout="mobile"] #detalle-swiper-mobile {
    height: calc(100vh - var(--header-height-real, 50px) - var(--footer-height-real, 6vh) - 10px) !important;
    width: 100%; position: relative;

    overflow: hidden; 
    touch-action: pan-y pinch-zoom !important;
}

/* ALINEACI칍N VERTICAL: Ambos wrappers tienen 15px de padding superior */
body[data-layout="mobile"] #nav-swiper-mobile .swiper-wrapper, 
body[data-layout="mobile"] #detalle-swiper-mobile .swiper-wrapper {
    display: flex !important; flex-direction: column; 
    gap: 10px; 

    width: 100%; height: auto !important; 

    padding-bottom: 15dvh; 
    padding-top: 15px !important; 
}

/* ALINEACI칍N HORIZONTAL: Ambos slides tienen 6% de padding lateral */
body[data-layout="mobile"] #nav-swiper-mobile .swiper-slide, 
body[data-layout="mobile"] #detalle-swiper-mobile .swiper-slide {
    width: 100% !important; height: auto !important; 

    display: flex; 
    flex-direction: column;
    align-items: center;
    box-sizing: border-box; 

    padding: 0 6% !important; 
}

body[data-layout="mobile"] #nav-swiper-mobile .swiper-slide .card, 
body[data-layout="mobile"] #detalle-swiper-mobile .swiper-slide .card {
    width: 100%;
    box-sizing: border-box; 
}

body[data-layout="mobile"] .card-relleno-final {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

/* 1. CAMBIO A FLEXBOX: Para crear 2 columnas (Icono | Texto) */
body[data-layout="mobile"] .card h3 {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important; /* 游꿢 CENTRADO VERTICAL */
    gap: 12px; /* Espacio limpio entre columnas */
    
    max-height: none !important; /* Quitamos l칤mite de altura de desktop */
    overflow: visible !important;
}

/* 2. RESET DEL ICONO: Deja de flotar y se comporta como columna 1 */
body[data-layout="mobile"] .card h3 .card-icon-lead,
body[data-layout="mobile"] .card h3 .icon-vacio-card,
body[data-layout="mobile"] .card h3 .icon-obras-card {
    float: none !important;
    margin-top: 0 !important;   /* Sin ajuste 칩ptico, centrado matem치tico */
    margin-right: 0 !important; /* El gap del padre controla el espacio */

    /* En m칩vil podemos hacerlo un pel칤n m치s grande si quieres, o dejarlo heredar */
    font-size: 1.2em !important; 
    width: 1.2em !important;
    height: 1.2em !important;
}

/* 3. TEXTO: Bloque con Ellipsis real */
    body[data-layout="mobile"] .card h3 .card-text-content {
        display: -webkit-box !important;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 3; /* L칤mite de l칤neas m칩vil */
        line-clamp: 3;
        
        overflow: hidden;
        text-overflow: ellipsis;
        
        word-break: normal !important;
        overflow-wrap: break-word !important;
    }

/* --- styles/style-mobile.css --- */