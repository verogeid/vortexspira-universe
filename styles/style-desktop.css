/* --- styles/style-desktop.css --- */

/* ⭐️ CORRECCIÓN CLAVE: DESKTOP (>= 1024px): 3 Columnas (Izq - Centro - Der) ⭐️ */
@media (min-width: 1024px) {
    #app-container {
      height: calc(100vh - var(--header-height) - var(--footer-height)); 
      width: 100%; max-width: 1600px; margin: 0 auto;
      display: grid; 
      /* ⭐️ COLUMNAS: 1fr (Volver/Fijo) 3fr (Carrusel) 1fr (Info Adicional) ⭐️ */
      grid-template-columns: 1fr 3fr 1fr; 
      gap: 20px; padding: 20px; box-sizing: border-box;
      align-items: start; background: var(--color-bg);
    }

    :root {
        --card-height-calc: calc( (100% - (2 * var(--card-gap))) / 3 );
    }

    #main-header-subtitle {
        display: inline-block;
    }

    /* Aseguramos que la vista correcta está visible */
    #vista-navegacion-desktop {
        display: flex !important;
        z-index: 10;
    }
    #vista-navegacion-tablet {
        display: none !important;
    }

    #nav-swiper {
        height: 100%; width: 100%; overflow: hidden; 
        position: relative; z-index: 1; touch-action: pan-y;
    }
    #nav-swiper .swiper-wrapper {
      display: flex !important; height: 100% !important; gap: 0; align-items: start;
    }
    #nav-swiper .swiper-slide {
      width: calc(100% / 3) !important; height: 100% !important; margin: 0 !important;
      border: none !important; background: transparent !important; padding: 0 !important; 
    }
    #nav-swiper .cards-column-group {
        display: flex; flex-direction: column; justify-content: flex-start; 
        height: calc(100% - var(--nav-carousel-top-offset)); width: 100%;
        gap: var(--card-gap); 
        padding: var(--nav-carousel-top-offset) 15px 15px 15px; 
        box-sizing: border-box; 
    }
    #nav-swiper .cards-column-group .card {
        flex: none; height: var(--card-height-calc); min-height: var(--card-height-calc); margin-bottom: 0; 
    }
    #vista-volver {
        min-width: 0;
    }
    #vista-volver #card-nivel-actual,
    #vista-volver #card-volver-fija-elemento {
        /* Ya utiliza la variable, sin cambios necesarios */
        height: var(--card-height-calc); min-height: var(--card-height-calc);
    }
    #vista-navegacion-desktop .carousel-mask {
      position: absolute; width: 100%; height: 100%; 
      top: 0; left: 0;
      z-index: 10; 
      pointer-events: none; overflow: hidden; 
    }
    #vista-navegacion-desktop .mask-left, #vista-navegacion-desktop .mask-right {
      position: absolute; top: 0; width: 33%; height: 100%;
      -webkit-backdrop-filter: blur(2px); backdrop-filter: blur(2px); 
      background: linear-gradient(to right, var(--color-mask-gradient) 0%, transparent 60%); 
      z-index: 10;
    }
    #vista-navegacion-desktop .mask-left { left: 0; }
    #vista-navegacion-desktop .mask-right {
      right: 0; 
      background: linear-gradient(to left, var(--color-mask-gradient) 0%, transparent 60%);
    }
    @media (prefers-reduced-motion: reduce) {
      #vista-navegacion-desktop .mask-left, 
      #vista-navegacion-desktop .mask-right { 
        -webkit-backdrop-filter: none; backdrop-filter: none; 
      }
    }
}

/* --- styles/style-desktop.css --- */